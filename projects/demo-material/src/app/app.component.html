<mat-toolbar color="primary">Angular Material example</mat-toolbar>

<div style="padding: 12px;">
  <form>
    <h3>ngModel</h3>
    <mat-form-field>
      <mat-label>Country</mat-label>
      <ngx-countries-autocomplete name="country" 
      [disabled]="false" 
      [required]="false"
      [(ngModel)]="country" 
      [optionTemplate]="optionTemplate" 
      [displayInputValueFn]="displayFn"
      [displayOptionItemFn]="displayFn" ></ngx-countries-autocomplete>
    </mat-form-field>
    <span>{{country}}</span>
  </form>

  <div>
    <h3>Reactive form</h3>
    <form [formGroup]="form">
      <mat-form-field>
        <mat-label>Country</mat-label>
        <ngx-countries-autocomplete 
          formControlName="country" 
          [required]="false" 
          [optionTemplate]="optionTemplate" 
          [displayInputValueFn]="displayFn"
          [displayOptionItemFn]="displayFn">
        </ngx-countries-autocomplete>
      </mat-form-field>
      <mat-error *ngIf="form.get('country').invalid">Invalid</mat-error>
      <span>{{form.value | json}}</span>
    </form>
  </div>

  <ng-template #optionTemplate let-code>
    {{displayFn(code)}}
  </ng-template>
</div>